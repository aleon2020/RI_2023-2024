function [q1,q2,q3,q4,q5] = myPos(X,Y,Z)

l1 = 1.3;
l2 = 1;
l3 = 1;
l4 = 0.5;
l5 = 1;

% Se calcula con mis resultados que son m√°s complejos
q4=asin((Z-l1)/(l4+l5));

q3 = [-2*atan((sqrt(-((- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)*(- X^2 - Y^2 + l2^2 + 2*l2*l3 + 2*l2*l4*cos(q4) + 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)^4)*(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)^2)/(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)); 2*atan((sqrt(-((- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)*(- X^2 - Y^2 + l2^2 + 2*l2*l3 + 2*l2*l4*cos(q4) + 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)^4)*(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)^2)/(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))];

q1=[2*atan((((4*l2*(l3 + l4*cos(q4) + l5*cos(q4))*sqrt(-((- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)*(- X^2 - Y^2 + l2^2 + 2*l2*l3 + 2*l2*l4*cos(q4) + 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)^4)*(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2) - (8*Y*l2^2*(l3 + l4*cos(q4) + l5*cos(q4)))/((- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)*(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)))*(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(4*l2*(l3 + l4*cos(q4) + l5*cos(q4)))); -2*atan((((4*l2*(l3 + l4*cos(q4) + l5*cos(q4))*sqrt(-((- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)*(- X^2 - Y^2 + l2^2 + 2*l2*l3 + 2*l2*l4*cos(q4) + 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)^4)*(- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2) + (8*Y*l2^2*(l3 + l4*cos(q4) + l5*cos(q4)))/((- X^2 - 2*X*l2 - Y^2 - l2^2 + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)*(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2)))*(- X^2 - Y^2 + l2^2 - 2*l2*l3 - 2*l2*l4*cos(q4) - 2*l2*l5*cos(q4) + l3^2 + 2*l3*l4*cos(q4) + 2*l3*l5*cos(q4) + l4^2*cos(q4)^2 + 2*l4*l5*cos(q4)^2 + l5^2*cos(q4)^2))/(4*l2*(l3 + l4*cos(q4) + l5*cos(q4))))];

q2 = 0; q5 = 0;
end